<main class="login-page">
  <h2>Recuperar contraseña</h2>

  <form class="formulario" #forgotForm="ngForm" (ngSubmit)="submit(forgotForm)">
    <ui-input
      tituloInput="Correo electrónico"
      placeholder="ejemplo@correo.com"
      name="email"
      tipo="email"
      required
      email
      [(ngModel)]="email"
      #emailModel="ngModel"
    ></ui-input>

    <p class="error" *ngIf="emailModel.invalid && (emailModel.touched || forgotForm.submitted)">
      <ng-container *ngIf="emailModel.errors?.['required']">El correo es obligatorio.</ng-container>
      <ng-container *ngIf="emailModel.errors?.['email']">Formato de correo inválido.</ng-container>
    </p>

    <p class="success" *ngIf="successMessage">{{ successMessage }}</p>
    <p class="p" *ngIf="(error$ | async) as error">{{ error }}</p>

    <ui-button texto="Enviar" tipo="submit" [disabled]="!!forgotForm.invalid" customWidth="250px"></ui-button>

    <p class="p">Recordaste tu contraseña? <a routerLink="/auth/login" class="link">Volver a iniciar sesión</a></p>
  </form>
</main>
